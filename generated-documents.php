<?php
session_start();
if (!isset($_SESSION['employee_name']) && !isset($_SESSION['session_id'])) {
    echo "<script type='text/javascript'> document.location = 'index.php'; </script>";
    exit();
}

require 'dbFiles/db.php';

if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

function titleCase($string)
{
    $string = (string) $string;
    if ($string === '') {
        return '';
    }

    return mb_convert_case($string, MB_CASE_TITLE, "UTF-8");
}

function unicode_to_krutidev($text)
{
    // 1) Reph handling: "‡§∞‡•ç" before a consonant => consonant + Z
    $text = preg_replace_callback('/‡§∞‡•ç([‡§ï-‡§π][‡§º]?)/u', function ($m) {
        return $m[1] . "Z";
    }, $text);

    // 2) Reorder "‡§ø" (pre-base vowel)
    // ex: ‡§ï‡§ø (‡§ï + ‡§ø) => f‡§ï (Kruti style)
    // also handles conjuncts like "‡§ï‡•ç‡§§‡§ø"
    $text = preg_replace('/([‡§ï-‡§π][‡§º]?)(‡•ç[‡§ï-‡§π][‡§º]?)*‡§ø/u', 'f$1$2', $text);
    // Apply matra map at the end (after consonants), but BEFORE removing halant
    $map = array(
        // üîπ SPECIAL CASES (longest first)
        // "‡§§‡•ç‡§∞‡•Ä" -> "=h"  ‚Üí gives ‡§∏‡•Å‡§™‡•Å‡§§‡•ç‡§∞‡•Ä = lqiq=h

        "‡§∏‡•ç‡§ü‡•ç‡§∞‡•á" => "l`V`js",
        "‡§∏‡•ç‡§ü‡•ç‡§∞"  => "l`V`j",
        "‡§∏‡•ç‡§ü"    => "l`V",

        "‡§™‡•ç‡§∞"    => "i`j",

        "‡§™‡•ç‡§≤‡•ã"   => "i`yks",

        "‡§∞‡§ø‡§Ç"    => "fja",

        // -------------------------------------
        // ‡§§‡•ç‡§∞ : FULL SET (like ‡§® series)
        // In KrutiDev, "‡§§‡•ç‡§∞" is usually "="
        // -------------------------------------
        "‡§§‡•ç‡§∞"  => "=",
        "‡§§‡•ç‡§∞‡§æ" => "=k",
        "‡§§‡•ç‡§∞‡§ø" => "f=",
        "‡§§‡•ç‡§∞‡•Ä" => "=h",   // you already have this
        "‡§§‡•ç‡§∞‡•Å" => "=q",
        "‡§§‡•ç‡§∞‡•Ç" => "=w",
        "‡§§‡•ç‡§∞‡•á" => "=s",
        "‡§§‡•ç‡§∞‡•à" => "=S",
        "‡§§‡•ç‡§∞‡•ã" => "=ks",
        "‡§§‡•ç‡§∞‡•å" => "=kS",
        "‡§§‡•ç‡§∞‡§Ç" => "=a",
        "‡§§‡•ç‡§∞‡§Å" => "=~",
        "‡§§‡•ç‡§∞‡§É" => "=:",


        // Vowels
        "‡§Ö" => "v",
        "‡§Ü" => "vk",
        "‡§á" => "b",
        "‡§à" => "bZ",
        "‡§â" => "m",
        "‡§ä" => "√Ö",
        "‡§è" => ",",
        "‡§ê" => ",s",
        "‡§ì" => "vks",
        "‡§î" => "vkS",
        // üîπ NEW: "‡§ë" -> "v‚Äö"  ‚Üí gives ‡§ë‡§´ = v‚ÄöQ
        "‡§ë" => "v‚Äö",

        // Conjuncts
        "‡§ú‡•ç‡§û" => "K",
        "‡§ï‡•ç‡§∑" => "√ë",
        "‡§∂‡•ç‡§∞" => "‚Ä¶",

        // Nukta letters
        "‡§ï‡§º" => "d",
        "‡§ñ‡§º" => "[k",
        "‡§ó‡§º" => "x",
        "‡§ú‡§º" => "t",
        "‡§°‡§º" => "M",
        "‡§¢‡§º" => "<",

        // Numbers
        "‡•¶" => "0",
        "‡•ß" => "1",
        "‡•®" => "2",
        "‡•©" => "3",
        "‡•™" => "4",
        "‡•´" => "5",
        "‡•¨" => "6",
        "‡•≠" => "7",
        "‡•Æ" => "8",
        "‡•Ø" => "9",
        // -------------------------------
        // ‡§ï + 14 MATRAS (FULL VOWEL SET)
        // -------------------------------
        "‡§ï" => "d",
        "‡§ï‡§æ" => "dk",
        "‡§ï‡§ø" => "fd",
        "‡§ï‡•Ä" => "hd",
        "‡§ï‡•Å" => "dq",
        "‡§ï‡•Ç" => "dw",
        "‡§ï‡•á" => "ds",
        "‡§ï‡•à" => "dS",
        "‡§ï‡•ã" => "dks",
        "‡§ï‡•å" => "dkS",
        "‡§ï‡§Ç" => "da",
        "‡§ï‡§Å" => "d~",
        "‡§ï‡§É" => "d:",

        // -------------------------------
        // ‡§ï‡•ç + CONSONANT JOINTS (ALL COMPLETE)
        // -------------------------------
        "‡§ï‡•ç‡§ï" => "Dd",
        "‡§ï‡•ç‡§ñ" => "D[k",
        "‡§ï‡•ç‡§ó" => "Dx",
        "‡§ï‡•ç‡§ò" => "D?k",
        "‡§ï‡•ç‡§ö" => "Dp",
        "‡§ï‡•ç‡§õ" => "DN",
        "‡§ï‡•ç‡§ú" => "Dt",
        "‡§ï‡•ç‡§ù" => "D>",
        "‡§ï‡•ç‡§ü" => "DV",
        "‡§ï‡•ç‡§†" => "DB",
        "‡§ï‡•ç‡§°" => "DM",
        "‡§ï‡•ç‡§¢" => "D<",
        "‡§ï‡•ç‡§£" => "D.k",
        "‡§ï‡•ç‡§§" => "Dr",
        "‡§ï‡•ç‡§•" => "DFk",
        "‡§ï‡•ç‡§¶" => "Dn",
        "‡§ï‡•ç‡§ß" => "D/k",
        "‡§ï‡•ç‡§®" => "Du",
        "‡§ï‡•ç‡§™" => "Di",
        "‡§ï‡•ç‡§´" => "DQ",
        "‡§ï‡•ç‡§¨" => "Dc",
        "‡§ï‡•ç‡§≠" => "DHk",
        "‡§ï‡•ç‡§Æ" => "De",
        "‡§ï‡•ç‡§Ø" => "D;",
        "‡§ï‡•ç‡§∞" => "Dj",
        "‡§ï‡•ç‡§≤" => "Dy",
        "‡§ï‡•ç‡§∂" => "D'k",
        "‡§ï‡•ç‡§∏" => "Dl",
        "‡§ï‡•ç‡§π" => "Dg",

        // -------------------------------------
        // ‡§ñ : 14 MATRAS (vowels on ‡§ñ)
        // -------------------------------------
        "‡§ñ"   => "[k",
        "‡§ñ‡§æ"  => "[kk",
        "‡§ñ‡§ø"  => "f[k",
        "‡§ñ‡•Ä"  => "[kh",
        "‡§ñ‡•Å"  => "[kq",
        "‡§ñ‡•Ç"  => "[kw",
        "‡§ñ‡•á"  => "[ks",
        "‡§ñ‡•à"  => "[kS",
        "‡§ñ‡•ã"  => "[kks",
        "‡§ñ‡•å"  => "[kkS",
        "‡§ñ‡§Ç"  => "[ka",
        "‡§ñ‡§Å"  => "[k~",
        "‡§ñ‡§É"  => "[k:",

        // -------------------------------------
        // ‡§ñ‡•ç + CONSONANT JOINTS (half-‡§ñ + next consonant)
        // pattern: "‡§ñ‡•çX" ‚Üí "[" + <code of X>
        // -------------------------------------
        "‡§ñ‡•ç‡§ï" => "[d",    // ‡§ñ‡•ç + ‡§ï
        "‡§ñ‡•ç‡§ñ" => "[[k",   // ‡§ñ‡•ç + ‡§ñ
        "‡§ñ‡•ç‡§ó" => "[x",    // ‡§ñ‡•ç + ‡§ó
        "‡§ñ‡•ç‡§ò" => "[?k",   // ‡§ñ‡•ç + ‡§ò
        "‡§ñ‡•ç‡§ö" => "[p",    // ‡§ñ‡•ç + ‡§ö
        "‡§ñ‡•ç‡§õ" => "[N",    // ‡§ñ‡•ç + ‡§õ
        "‡§ñ‡•ç‡§ú" => "[t",    // ‡§ñ‡•ç + ‡§ú
        "‡§ñ‡•ç‡§ù" => "[>",    // ‡§ñ‡•ç + ‡§ù
        "‡§ñ‡•ç‡§ü" => "[V",    // ‡§ñ‡•ç + ‡§ü
        "‡§ñ‡•ç‡§†" => "[B",    // ‡§ñ‡•ç + ‡§†
        "‡§ñ‡•ç‡§°" => "[M",    // ‡§ñ‡•ç + ‡§°
        "‡§ñ‡•ç‡§¢" => "[<",    // ‡§ñ‡•ç + ‡§¢
        "‡§ñ‡•ç‡§£" => "[.k",   // ‡§ñ‡•ç + ‡§£
        "‡§ñ‡•ç‡§§" => "[r",    // ‡§ñ‡•ç + ‡§§
        "‡§ñ‡•ç‡§•" => "[Fk",   // ‡§ñ‡•ç + ‡§•
        "‡§ñ‡•ç‡§¶" => "[n",    // ‡§ñ‡•ç + ‡§¶
        "‡§ñ‡•ç‡§ß" => "[/k",   // ‡§ñ‡•ç + ‡§ß
        "‡§ñ‡•ç‡§®" => "[u",    // ‡§ñ‡•ç + ‡§®
        "‡§ñ‡•ç‡§™" => "[i",    // ‡§ñ‡•ç + ‡§™
        "‡§ñ‡•ç‡§´" => "[Q",    // ‡§ñ‡•ç + ‡§´
        "‡§ñ‡•ç‡§¨" => "[c",    // ‡§ñ‡•ç + ‡§¨
        "‡§ñ‡•ç‡§≠" => "[Hk",   // ‡§ñ‡•ç + ‡§≠
        "‡§ñ‡•ç‡§Æ" => "[e",    // ‡§ñ‡•ç + ‡§Æ
        "‡§ñ‡•ç‡§Ø" => "[;",    // ‡§ñ‡•ç + ‡§Ø
        "‡§ñ‡•ç‡§∞" => "[j",    // ‡§ñ‡•ç + ‡§∞
        "‡§ñ‡•ç‡§≤" => "[y",    // ‡§ñ‡•ç + ‡§≤
        "‡§ñ‡•ç‡§∂" => "['k",   // ‡§ñ‡•ç + ‡§∂
        "‡§ñ‡•ç‡§∏" => "[l",    // ‡§ñ‡•ç + ‡§∏
        "‡§ñ‡•ç‡§π" => "[g",    // ‡§ñ‡•ç + ‡§π

        // -------------------------------------
        // ‡§ó : 14 MATRAS (vowels on ‡§ó)
        // -------------------------------------
        "‡§ó"   => "x",
        "‡§ó‡§æ"  => "xk",
        "‡§ó‡§ø"  => "fx",
        "‡§ó‡•Ä"  => "hx",
        "‡§ó‡•Å"  => "xq",
        "‡§ó‡•Ç"  => "xw",
        "‡§ó‡•á"  => "xs",
        "‡§ó‡•à"  => "xS",
        "‡§ó‡•ã"  => "xks",
        "‡§ó‡•å"  => "xkS",
        "‡§ó‡§Ç"  => "xa",
        "‡§ó‡§Å"  => "x~",
        "‡§ó‡§É"  => "x:",

        // -------------------------------------
        // ‡§ó‡•ç + CONSONANT JOINTS
        // (half-‡§ó = "X")
        // -------------------------------------
        "‡§ó‡•ç‡§ï" => "Xd",
        "‡§ó‡•ç‡§ñ" => "X[k",
        "‡§ó‡•ç‡§ó" => "Xx",
        "‡§ó‡•ç‡§ò" => "X?k",
        "‡§ó‡•ç‡§ö" => "Xp",
        "‡§ó‡•ç‡§õ" => "XN",
        "‡§ó‡•ç‡§ú" => "Xt",
        "‡§ó‡•ç‡§ù" => "X>",
        "‡§ó‡•ç‡§ü" => "XV",
        "‡§ó‡•ç‡§†" => "XB",
        "‡§ó‡•ç‡§°" => "XM",
        "‡§ó‡•ç‡§¢" => "X<",
        "‡§ó‡•ç‡§£" => "X.k",
        "‡§ó‡§§" => "Xr",
        "‡§ó‡§•" => "XFk",
        "‡§ó‡§¶" => "Xn",
        "‡§ó‡§ß" => "X/k",
        "‡§ó‡•ç‡§®" => "Xu",
        "‡§ó‡•ç‡§™" => "Xi",
        "‡§ó‡•ç‡§´" => "XQ",
        "‡§ó‡•ç‡§¨" => "Xc",
        "‡§ó‡•ç‡§≠" => "XHk",
        "‡§ó‡•ç‡§Æ" => "Xe",
        "‡§ó‡•ç‡§Ø" => "X;",
        "‡§ó‡•ç‡§∞" => "Xj",
        "‡§ó‡•ç‡§≤" => "Xy",
        "‡§ó‡•ç‡§∂" => "X'k",
        "‡§ó‡•ç‡§∏" => "Xl",
        "‡§ó‡•ç‡§π" => "Xg",


        // -------------------------------------
        // ‡§ò : 14 MATRAS (vowels on ‡§ò)
        // -------------------------------------
        "‡§ò"   => "?k",
        "‡§ò‡§æ"  => "?kk",
        "‡§ò‡§ø"  => "f?k",
        "‡§ò‡•Ä"  => "?kh",
        "‡§ò‡•Å"  => "?kq",
        "‡§ò‡•Ç"  => "?kw",
        "‡§ò‡•á"  => "?ks",
        "‡§ò‡•à"  => "?kS",
        "‡§ò‡•ã"  => "?kks",
        "‡§ò‡•å"  => "?kkS",
        "‡§ò‡§Ç"  => "?ka",
        "‡§ò‡§Å"  => "?k~",
        "‡§ò‡§É"  => "?k:",

        // -------------------------------------
        // ‡§ò‡•ç + CONSONANT JOINTS
        // (half-‡§ò = "?")
        // -------------------------------------
        "‡§ò‡•ç‡§ï" => "?d",
        "‡§ò‡•ç‡§ñ" => "?[k",
        "‡§ò‡•ç‡§ó" => "?x",
        "‡§ò‡•ç‡§ò" => "??k",
        "‡§ò‡•ç‡§ö" => "?p",
        "‡§ò‡•ç‡§õ" => "?N",
        "‡§ò‡•ç‡§ú" => "?t",
        "‡§ò‡•ç‡§ù" => "?>",
        "‡§ò‡•ç‡§ü" => "?V",
        "‡§ò‡•ç‡§†" => "?B",
        "‡§ò‡•ç‡§°" => "?M",
        "‡§ò‡•ç‡§¢" => "?<",
        "‡§ò‡•ç‡§£" => "?.k",
        "‡§ò‡§§" => "?r",
        "‡§ò‡§•" => "?Fk",
        "‡§ò‡§¶" => "?n",
        "‡§ò‡§ß" => "?k/k",
        "‡§ò‡•ç‡§®" => "?u",
        "‡§ò‡•ç‡§™" => "?i",
        "‡§ò‡•ç‡§´" => "?Q",
        "‡§ò‡•ç‡§¨" => "?c",
        "‡§ò‡•ç‡§≠" => "?Hk",
        "‡§ò‡•ç‡§Æ" => "?e",
        "‡§ò‡•ç‡§Ø" => "?;",
        "‡§ò‡•ç‡§∞" => "?j",
        "‡§ò‡§ø‡•ç‡§≤" => "f?y",
        "‡§ò‡•ç‡§∂" => "?'k",
        "‡§ò‡•ç‡§∏" => "?l",
        "‡§ò‡•ç‡§π" => "?g",

        // -------------------------------------
        // ‡§ö : 14 MATRAS
        // -------------------------------------
        "‡§ö"   => "p",
        "‡§ö‡§æ"  => "pk",
        "‡§ö‡§ø"  => "fp",
        "‡§ö‡•Ä"  => "hp",
        "‡§ö‡•Å"  => "pq",
        "‡§ö‡•Ç"  => "pw",
        "‡§ö‡•á"  => "ps",
        "‡§ö‡•à"  => "pS",
        "‡§ö‡•ã"  => "pks",
        "‡§ö‡•å"  => "pkS",
        "‡§ö‡§Ç"  => "pa",
        "‡§ö‡§Å"  => "p~",
        "‡§ö‡§É"  => "p:",

        // -------------------------------------
        // ‡§ö‡•ç + CONSONANT JOINTS
        // -------------------------------------
        "‡§ö‡•ç‡§ï" => "Pd",
        "‡§ö‡•ç‡§ñ" => "P[k",
        "‡§ö‡•ç‡§ó" => "Px",
        "‡§ö‡•ç‡§ò" => "P?k",
        "‡§ö‡•ç‡§ö" => "Pp",
        "‡§ö‡•ç‡§ö‡•ç‡§õ" => "PN",
        "‡§ö‡•ç‡§ú" => "Pt",
        "‡§ö‡•ç‡§ù" => "P>",
        "‡§ö‡•ç‡§ü" => "PV",
        "‡§ö‡•ç‡§†" => "PB",
        "‡§ö‡•ç‡§°" => "PM",
        "‡§ö‡•ç‡§¢" => "P<",
        "‡§ö‡•ç‡§£" => "P.k",
        "‡§ö‡•ç‡§§" => "Pr",
        "‡§ö‡•ç‡§•" => "PFk",
        "‡§ö‡•ç‡§¶" => "Pn",
        "‡§ö‡•ç‡§ß" => "P/k",
        "‡§ö‡•ç‡§®" => "Pu",
        "‡§ö‡•ç‡§™" => "Pi",
        "‡§ö‡•ç‡§´" => "PQ",
        "‡§ö‡•ç‡§¨" => "Pc",
        "‡§ö‡•ç‡§≠" => "PHk",
        "‡§ö‡•ç‡§Æ" => "Pe",
        "‡§ö‡•ç‡§Ø" => "P;",
        "‡§ö‡•ç‡§∞" => "Pj",
        "‡§ö‡•ç‡§≤" => "Py",
        "‡§ö‡•ç‡§∂" => "P'k",
        "‡§ö‡•ç‡§∏" => "Pl",
        "‡§ö‡•ç‡§π" => "Pg",

        // -------------------------------------
        // ‡§õ : 14 MATRAS
        // -------------------------------------
        "‡§õ"   => "N",
        "‡§õ‡§æ"  => "Nk",
        "‡§õ‡§ø"  => "fN",
        "‡§õ‡•Ä"  => "hN",
        "‡§õ‡•Å"  => "Nq",
        "‡§õ‡•Ç"  => "Nw",
        "‡§õ‡•á"  => "Ns",
        "‡§õ‡•à"  => "NS",
        "‡§õ‡•ã"  => "Nks",
        "‡§õ‡•å"  => "NkS",
        "‡§õ‡§Ç"  => "Na",
        "‡§õ‡§Å"  => "N~",
        "‡§õ‡§É"  => "N:",

        // -------------------------------------
        // ‡§õ‡•ç + CONSONANT JOINTS
        // -------------------------------------
        "‡§õ‡•ç‡§ï" => "N~d",
        "‡§õ‡•ç‡§ñ" => "N~[k",
        "‡§õ‡•ç‡§ó" => "N~x",
        "‡§õ‡•ç‡§ò" => "N~?k",
        "‡§õ‡•ç‡§ö" => "N~p",
        "‡§õ‡•ç‡§õ" => "N~N",
        "‡§õ‡•ç‡§ú" => "N~t",
        "‡§õ‡•ç‡§ù" => "N~>",
        "‡§õ‡•ç‡§ü" => "N~V",
        "‡§õ‡•ç‡§†" => "N~B",
        "‡§õ‡•ç‡§°" => "N~M",
        "‡§õ‡•ç‡§¢" => "N~<",
        "‡§õ‡•ç‡§£" => "N~.k",
        "‡§õ‡•ç‡§§" => "N~r",
        "‡§õ‡•ç‡§•" => "N~Fk",
        "‡§õ‡•ç‡§¶" => "N~n",
        "‡§õ‡•ç‡§ß" => "N~/k",
        "‡§õ‡•ç‡§®" => "N~u",
        "‡§õ‡•ç‡§™" => "N~i",
        "‡§õ‡•ç‡§´" => "N~Q",
        "‡§õ‡•ç‡§¨" => "N~c",
        "‡§õ‡•ç‡§≠" => "N~Hk",
        "‡§õ‡•ç‡§Æ" => "N~e",
        "‡§õ‡•ç‡§Ø" => "N~;",
        "‡§õ‡•ç‡§∞" => "N~j",
        "‡§õ‡•ç‡§≤" => "N~y",
        "‡§õ‡•ç‡§∂" => "N~'k",
        "‡§õ‡•ç‡§∏" => "N~l",
        "‡§õ‡•ç‡§π" => "N~g",

        // -------------------------------------
        // ‡§ú : 14 MATRAS
        // -------------------------------------
        "‡§ú"   => "t",
        "‡§ú‡§æ"  => "tk",
        "‡§ú‡§ø"  => "ft",
        "‡§ú‡•Ä"  => "ht",
        "‡§ú‡•Å"  => "tq",
        "‡§ú‡•Ç"  => "tw",
        "‡§ú‡•á"  => "ts",
        "‡§ú‡•à"  => "tS",
        "‡§ú‡•ã"  => "tks",
        "‡§ú‡•å"  => "tkS",
        "‡§ú‡§Ç"  => "ta",
        "‡§ú‡§Å"  => "t~",
        "‡§ú‡§É"  => "t:",

        // -------------------------------------
        // ‡§ú‡•ç + CONSONANT JOINTS
        // -------------------------------------
        "‡§ú‡•ç‡§ï" => "Td",
        "‡§ú‡•ç‡§ñ" => "T[k",
        "‡§ú‡•ç‡§ó" => "Tx",
        "‡§ú‡•ç‡§ò" => "T?k",
        "‡§ú‡•ç‡§ö" => "Tp",
        "‡§ú‡•ç‡§õ" => "TN",
        "‡§ú‡•ç‡§ú" => "Tt",
        "‡§ú‡•ç‡§ù" => "T>",
        "‡§ú‡•ç‡§ü" => "TV",
        "‡§ú‡•ç‡§†" => "TB",
        "‡§ú‡•ç‡§°" => "TM",
        "‡§ú‡•ç‡§¢" => "T<",
        "‡§ú‡•ç‡§£" => "T.k",
        "‡§ú‡•ç‡§§" => "Tr",
        "‡§ú‡•ç‡§•" => "TFk",
        "‡§ú‡•ç‡§¶" => "Tn",
        "‡§ú‡•ç‡§ß" => "T/k",
        "‡§ú‡•ç‡§®" => "Tu",
        "‡§ú‡•ç‡§™" => "Ti",
        "‡§ú‡•ç‡§´" => "TQ",
        "‡§ú‡•ç‡§¨" => "Tc",
        "‡§ú‡•ç‡§≠" => "THk",
        "‡§ú‡•ç‡§Æ" => "Te",
        "‡§ú‡•ç‡§Ø" => "T;",
        "‡§ú‡•ç‡§∞" => "Tj",
        "‡§ú‡•ç‡§≤" => "Ty",
        "‡§ú‡•ç‡§∂" => "T'k",
        "‡§ú‡•ç‡§∏" => "Tl",
        "‡§ú‡•ç‡§π" => "Tg",

        // -------------------------------------
        // ‡§ù : 14 MATRAS
        // -------------------------------------
        "‡§ù"   => ">",
        "‡§ù‡§æ"  => ">k",
        "‡§ù‡§ø"  => "f>",
        "‡§ù‡•Ä"  => "h>",
        "‡§ù‡•Å"  => ">q",
        "‡§ù‡•Ç"  => ">w",
        "‡§ù‡•á"  => ">s",
        "‡§ù‡•à"  => ">S",
        "‡§ù‡•ã"  => ">ks",
        "‡§ù‡•å"  => ">kS",
        "‡§ù‡§Ç"  => ">a",
        "‡§ù‡§Å"  => ">~",
        "‡§ù‡§É"  => ">:",

        // -------------------------------------
        // ‡§ù‡•ç + CONSONANT JOINTS
        // -------------------------------------
        "‡§ù‡•ç‡§ï" => "√∑d",
        "‡§ù‡•ç‡§ñ" => "√∑[k",
        "‡§ù‡•ç‡§ó" => "√∑x",
        "‡§ù‡•ç‡§ò" => "√∑?k",
        "‡§ù‡•ç‡§ö" => "√∑p",
        "‡§ù‡•ç‡§õ" => "√∑N",
        "‡§ù‡•ç‡§ú" => "√∑t",
        "‡§ù‡•ç‡§ù" => "√∑>",
        "‡§ù‡•ç‡§ü" => "√∑V",
        "‡§ù‡•ç‡§†" => "√∑B",
        "‡§ù‡•ç‡§°" => "√∑M",
        "‡§ù‡•ç‡§¢" => "√∑<",
        "‡§ù‡•ç‡§£" => "√∑.k",
        "‡§ù‡•ç‡§§" => "√∑r",
        "‡§ù‡•ç‡§•" => "√∑Fk",
        "‡§ù‡•ç‡§¶" => "√∑n",
        "‡§ù‡•ç‡§ß" => "√∑/k",
        "‡§ù‡•ç‡§®" => "√∑u",
        "‡§ù‡•ç‡§™" => "√∑i",
        "‡§ù‡•ç‡§´" => "√∑Q",
        "‡§ù‡•ç‡§¨" => "√∑c",
        "‡§ù‡•ç‡§≠" => "√∑Hk",
        "‡§ù‡•ç‡§Æ" => "√∑e",
        "‡§ù‡•ç‡§Ø" => "√∑;",
        "‡§ù‡•ç‡§∞" => "√∑j",
        "‡§ù‡•ç‡§≤" => "√∑y",
        "‡§ù‡•ç‡§∂" => "√∑'k",
        "‡§ù‡•ç‡§∏" => "√∑l",
        "‡§ù‡•ç‡§π" => "√∑g",

        // -------------------------------------
        // ‡§ü / ‡§† / ‡§° / ‡§¢
        // -------------------------------------
        "‡§ü"  => "V",
        "‡§ü‡§æ" => "Vk",
        "‡§ü‡§ø" => "fV",
        "‡§ü‡•Ä" => "hV",
        "‡§ü‡•Å" => "Vq",
        "‡§ü‡•Ç" => "Vw",
        "‡§ü‡•á" => "Vs",
        "‡§ü‡•à" => "VS",
        "‡§ü‡•ã" => "Vks",
        "‡§ü‡•å" => "VkS",
        "‡§ü‡§Ç" => "Va",
        "‡§ü‡§Å" => "V~",
        "‡§ü‡§É" => "V:",

        "‡§†"  => "B",
        "‡§†‡§æ" => "Bk",
        "‡§†‡§ø" => "fB",
        "‡§†‡•Ä" => "hB",
        "‡§†‡•Å" => "Bq",
        "‡§†‡•Ç" => "Bw",
        "‡§†‡•á" => "Bs",
        "‡§†‡•à" => "BS",
        "‡§†‡•ã" => "Bks",
        "‡§†‡•å" => "BkS",
        "‡§†‡§Ç" => "Ba",
        "‡§†‡§Å" => "B~",
        "‡§†‡§É" => "B:",

        "‡§°"  => "M",
        "‡§°‡§æ" => "Mk",
        "‡§°‡§ø" => "fM",
        "‡§°‡•Ä" => "hM",
        "‡§°‡•Å" => "Mq",
        "‡§°‡•Ç" => "Mw",
        "‡§°‡•á" => "Ms",
        "‡§°‡•à" => "MS",
        "‡§°‡•ã" => "Mks",
        "‡§°‡•å" => "MkS",
        "‡§°‡§Ç" => "Ma",
        "‡§°‡§Å" => "M~",
        "‡§°‡§É" => "M:",

        "‡§¢"  => "<",
        "‡§¢‡§æ" => "<k",
        "‡§¢‡§ø" => "f<",
        "‡§¢‡•Ä" => "h<",
        "‡§¢‡•Å" => "<q",
        "‡§¢‡•Ç" => "<w",
        "‡§¢‡•á" => "<s",
        "‡§¢‡•à" => "<S",
        "‡§¢‡•ã" => "<ks",
        "‡§¢‡•å" => "<kS",
        "‡§¢‡§Ç" => "<a",
        "‡§¢‡§Å" => "<~",
        "‡§¢‡§É" => "<:",


        // -------------------------------------
        // ‡§§ / ‡§• / ‡§¶ / ‡§ß
        // -------------------------------------
        "‡§§"  => "r",
        "‡§§‡§æ" => "rk",
        "‡§§‡§ø" => "fr",
        "‡§§‡•Ä" => "hr",
        "‡§§‡•Å" => "rq",
        "‡§§‡•Ç" => "rw",
        "‡§§‡•á" => "rs",
        "‡§§‡•à" => "rS",
        "‡§§‡•ã" => "rks",
        "‡§§‡•å" => "rkS",
        "‡§§‡§Ç" => "ra",
        "‡§§‡§Å" => "r~",
        "‡§§‡§É" => "r:",

        "‡§•"  => "Fk",
        "‡§•‡§æ" => "Fkk",
        "‡§•‡§ø" => "fFk",
        "‡§•‡•Ä" => "hFk",
        "‡§•‡•Å" => "Fkq",
        "‡§•‡•Ç" => "Fkw",
        "‡§•‡•á" => "Fks",
        "‡§•‡•à" => "FkS",
        "‡§•‡•ã" => "Fkks",
        "‡§•‡•å" => "FkkS",
        "‡§•‡§Ç" => "Fka",
        "‡§•‡§Å" => "Fk~",
        "‡§•‡§É" => "Fk:",

        "‡§¶"  => "n",
        "‡§¶‡§æ" => "nk",
        "‡§¶‡§ø" => "fn",
        "‡§¶‡•Ä" => "hn",
        "‡§¶‡•Å" => "nq",
        "‡§¶‡•Ç" => "nw",
        "‡§¶‡•á" => "ns",
        "‡§¶‡•à" => "nS",
        "‡§¶‡•ã" => "nks",
        "‡§¶‡•å" => "nkS",
        "‡§¶‡§Ç" => "na",
        "‡§¶‡§Å" => "n~",
        "‡§¶‡§É" => "n:",

        "‡§ß"  => "/k",
        "‡§ß‡§æ" => "/kk",
        "‡§ß‡§ø" => "f/k",
        "‡§ß‡•Ä" => "h/k",
        "‡§ß‡•Å" => "/kq",
        "‡§ß‡•Ç" => "/kw",
        "‡§ß‡•á" => "/ks",
        "‡§ß‡•à" => "/kS",
        "‡§ß‡•ã" => "/kks",
        "‡§ß‡•å" => "/kkS",
        "‡§ß‡§Ç" => "/ka",
        "‡§ß‡§Å" => "/k~",
        "‡§ß‡§É" => "/k:",


        // -------------------------------------
        // ‡§™ / ‡§´ / ‡§¨ / ‡§≠
        // -------------------------------------
        "‡§™"  => "i",
        "‡§™‡§æ" => "ik",
        "‡§™‡§ø" => "fi",
        "‡§™‡•Ä" => "hi",
        "‡§™‡•Å" => "iq",
        "‡§™‡•Ç" => "iw",
        "‡§™‡•á" => "is",
        "‡§™‡•à" => "iS",
        "‡§™‡•ã" => "iks",
        "‡§™‡•å" => "ikS",
        "‡§™‡§Ç" => "ia",
        "‡§™‡§Å" => "i~",
        "‡§™‡§É" => "i:",

        "‡§´"  => "Q",
        "‡§´‡§æ" => "Qk",
        "‡§´‡§ø" => "fQ",
        "‡§´‡•Ä" => "hQ",
        "‡§´‡•Å" => "Qq",
        "‡§´‡•Ç" => "Qw",
        "‡§´‡•á" => "Qs",
        "‡§´‡•à" => "QS",
        "‡§´‡•ã" => "Qks",
        "‡§´‡•å" => "QkS",
        "‡§´‡§Ç" => "Qa",
        "‡§´‡§Å" => "Q~",
        "‡§´‡§É" => "Q:",

        "‡§¨"  => "c",
        "‡§¨‡§æ" => "ck",
        "‡§¨‡§ø" => "fc",
        "‡§¨‡•Ä" => "hc",
        "‡§¨‡•Å" => "cq",
        "‡§¨‡•Ç" => "cw",
        "‡§¨‡•á" => "cs",
        "‡§¨‡•à" => "cS",
        "‡§¨‡•ã" => "cks",
        "‡§¨‡•å" => "ckS",
        "‡§¨‡§Ç" => "ca",
        "‡§¨‡§Å" => "c~",
        "‡§¨‡§É" => "c:",

        "‡§≠"  => "Hk",
        "‡§≠‡§æ" => "Hkk",
        "‡§≠‡§ø" => "fHk",
        "‡§≠‡•Ä" => "hHk",
        "‡§≠‡•Å" => "Hkq",
        "‡§≠‡•Ç" => "Hkw",
        "‡§≠‡•á" => "Hks",
        "‡§≠‡•à" => "HkS",
        "‡§≠‡•ã" => "Hkks",
        "‡§≠‡•å" => "HkkS",
        "‡§≠‡§Ç" => "Hka",
        "‡§≠‡§Å" => "Hk~",
        "‡§≠‡§É" => "Hk:",


        // -------------------------------------
        // ‡§Æ / ‡§Ø / ‡§∞ / ‡§≤ / ‡§µ
        // -------------------------------------
        "‡§Æ"  => "e",
        "‡§Æ‡§æ" => "ek",
        "‡§Æ‡§ø" => "fe",
        "‡§Æ‡•Ä" => "he",
        "‡§Æ‡•Å" => "eq",
        "‡§Æ‡•Ç" => "ew",
        "‡§Æ‡•á" => "es",
        "‡§Æ‡•à" => "eS",
        "‡§Æ‡•ã" => "eks",
        "‡§Æ‡•å" => "ekS",
        "‡§Æ‡§Ç" => "ea",
        "‡§Æ‡§Å" => "e~",
        "‡§Æ‡§É" => "e:",

        "‡§Ø"  => ";",
        "‡§Ø‡§æ" => ";k",
        "‡§Ø‡§ø" => "f;",
        "‡§Ø‡•Ä" => "h;",
        "‡§Ø‡•Å" => ";q",
        "‡§Ø‡•Ç" => ";w",
        "‡§Ø‡•á" => ";s",
        "‡§Ø‡•à" => ";S",
        "‡§Ø‡•ã" => ";ks",
        "‡§Ø‡•å" => ";kS",
        "‡§Ø‡§Ç" => ";a",
        "‡§Ø‡§Å" => ";~",
        "‡§Ø‡§É" => ";:",

        "‡§∞"  => "j",
        "‡§∞‡§æ" => "jk",
        "‡§∞‡§ø" => "fj",
        "‡§∞‡•Ä" => "hj",
        "‡§∞‡•Å" => "jq",
        "‡§∞‡•Ç" => "jw",
        "‡§∞‡•á" => "js",
        "‡§∞‡•à" => "jS",
        "‡§∞‡•ã" => "jks",
        "‡§∞‡•å" => "jkS",
        "‡§∞‡§Ç" => "ja",
        "‡§∞‡§Å" => "j~",
        "‡§∞‡§É" => "j:",

        "‡§≤"  => "y",
        "‡§≤‡§æ" => "yk",
        "‡§≤‡§ø" => "fy",
        "‡§≤‡•Ä" => "hy",
        "‡§≤‡•Å" => "yq",
        "‡§≤‡•Ç" => "yw",
        "‡§≤‡•á" => "ys",
        "‡§≤‡•à" => "yS",
        "‡§≤‡•ã" => "yks",
        "‡§≤‡•å" => "ykS",
        "‡§≤‡§Ç" => "ya",
        "‡§≤‡§Å" => "y~",
        "‡§≤‡§É" => "y:",

        "‡§µ"  => "o",
        "‡§µ‡§æ" => "ok",
        "‡§µ‡§ø" => "fo",
        "‡§µ‡•Ä" => "ho",
        "‡§µ‡•Å" => "oq",
        "‡§µ‡•Ç" => "ow",
        "‡§µ‡•á" => "os",
        "‡§µ‡•à" => "oS",
        "‡§µ‡•ã" => "oks",
        "‡§µ‡•å" => "okS",
        "‡§µ‡§Ç" => "oa",
        "‡§µ‡§Å" => "o~",
        "‡§µ‡§É" => "o:",


        // -------------------------------------
        // ‡§∂ / ‡§∑ / ‡§∏ / ‡§π
        // (note: \" for ‡§∑‚Äôs Kruti codes)
        // -------------------------------------
        "‡§∂"  => "'k",
        "‡§∂‡§æ" => "'kk",
        "‡§∂‡§ø" => "f'k",
        "‡§∂‡•Ä" => "h'k",
        "‡§∂‡•Å" => "'kq",
        "‡§∂‡•Ç" => "'kw",
        "‡§∂‡•á" => "'ks",
        "‡§∂‡•à" => "'kS",
        "‡§∂‡•ã" => "'kks",
        "‡§∂‡•å" => "'kkS",
        "‡§∂‡§Ç" => "'ka",
        "‡§∂‡§Å" => "'k~",
        "‡§∂‡§É" => "'k:",

        "‡§∑"  => "\"k",
        "‡§∑‡§æ" => "\"kk",
        "‡§∑‡§ø" => "f\"k",
        "‡§∑‡•Ä" => "h\"k",
        "‡§∑‡•Å" => "\"kq",
        "‡§∑‡•Ç" => "\"kw",
        "‡§∑‡•á" => "\"ks",
        "‡§∑‡•à" => "\"kS",
        "‡§∑‡•ã" => "\"kks",
        "‡§∑‡•å" => "\"kkS",
        "‡§∑‡§Ç" => "\"ka",
        "‡§∑‡§Å" => "\"k~",
        "‡§∑‡§É" => "\"k:",

        "‡§∏"  => "l",
        "‡§∏‡§æ" => "lk",
        "‡§∏‡§ø" => "fl",
        "‡§∏‡•Ä" => "hl",
        "‡§∏‡•Å" => "lq",
        "‡§∏‡•Ç" => "lw",
        "‡§∏‡•á" => "ls",
        "‡§∏‡•à" => "lS",
        "‡§∏‡•ã" => "lks",
        "‡§∏‡•å" => "lkS",
        "‡§∏‡§Ç" => "la",
        "‡§∏‡§Å" => "l~",
        "‡§∏‡§É" => "l:",

        "‡§π"  => "g",
        "‡§π‡§æ" => "gk",
        "‡§π‡§ø" => "fg",
        "‡§π‡•Ä" => "gh",
        "‡§π‡•Å" => "gq",
        "‡§π‡•Ç" => "gw",
        "‡§π‡•á" => "gs",
        "‡§π‡•à" => "gS",
        "‡§π‡•ã" => "gks",
        "‡§π‡•å" => "gkS",
        "‡§π‡§Ç" => "ga",
        "‡§π‡§Å" => "g~",
        "‡§π‡§É" => "g:",


        // =====================================
        // ‡§ü FAMILY JOINTS (half ‡§ü = "V`")
        // =====================================
        "‡§ü‡•ç‡§ï" => "V`d",
        "‡§ü‡•ç‡§ñ" => "V`[k",
        "‡§ü‡•ç‡§ó" => "V`x",
        "‡§ü‡•ç‡§ò" => "V`?k",
        "‡§ü‡•ç‡§ö" => "V`p",
        "‡§ü‡•ç‡§õ" => "V`N",
        "‡§ü‡•ç‡§ú" => "V`t",
        "‡§ü‡•ç‡§ù" => "V`>",
        "‡§ü‡•ç‡§ü" => "V`V",
        "‡§ü‡•ç‡§†" => "V`B",
        "‡§ü‡•ç‡§°" => "V`M",
        "‡§ü‡•ç‡§¢" => "V`<",
        "‡§ü‡•ç‡§£" => "V`.k",
        "‡§ü‡•ç‡§§" => "V`r",
        "‡§ü‡•ç‡§•" => "V`Fk",
        "‡§ü‡•ç‡§¶" => "V`n",
        "‡§ü‡•ç‡§ß" => "V`/k",
        "‡§ü‡•ç‡§®" => "V`u",
        "‡§ü‡•ç‡§™" => "V`i",
        "‡§ü‡•ç‡§´" => "V`Q",
        "‡§ü‡•ç‡§¨" => "V`c",
        "‡§ü‡•ç‡§≠" => "V`Hk",
        "‡§ü‡•ç‡§Æ" => "V`e",
        "‡§ü‡•ç‡§Ø" => "V`;",
        "‡§ü‡•ç‡§∞" => "V`j",
        "‡§ü‡•ç‡§≤" => "V`y",
        "‡§ü‡•ç‡§∂" => "V`'k",
        "‡§ü‡•ç‡§∏" => "V`l",
        "‡§ü‡•ç‡§π" => "V`g",

        // =====================================
        // ‡§† FAMILY JOINTS (half ‡§† = "B`")
        // =====================================
        "‡§†‡•ç‡§ï" => "B`d",
        "‡§†‡•ç‡§ñ" => "B`[k",
        "‡§†‡•ç‡§ó" => "B`x",
        "‡§†‡•ç‡§ò" => "B`?k",
        "‡§†‡•ç‡§ö" => "B`p",
        "‡§†‡•ç‡§õ" => "B`N",
        "‡§†‡•ç‡§ú" => "B`t",
        "‡§†‡•ç‡§ù" => "B`>",
        "‡§†‡•ç‡§ü" => "B`V",
        "‡§†‡•ç‡§†" => "B`B",
        "‡§†‡•ç‡§°" => "B`M",
        "‡§†‡•ç‡§¢" => "B`<",
        "‡§†‡•ç‡§£" => "B`.k",
        "‡§†‡•ç‡§§" => "B`r",
        "‡§†‡•ç‡§•" => "B`Fk",
        "‡§†‡•ç‡§¶" => "B`n",
        "‡§†‡•ç‡§ß" => "B`/k",
        "‡§†‡•ç‡§®" => "B`u",
        "‡§†‡•ç‡§™" => "B`i",
        "‡§†‡•ç‡§´" => "B`Q",
        "‡§†‡•ç‡§¨" => "B`c",
        "‡§†‡•ç‡§≠" => "B`Hk",
        "‡§†‡•ç‡§Æ" => "B`e",
        "‡§†‡•ç‡§Ø" => "B`;",
        "‡§†‡•ç‡§∞" => "B`j",
        "‡§†‡•ç‡§≤" => "B`y",
        "‡§†‡•ç‡§∂" => "B`'k",
        "‡§†‡•ç‡§∏" => "B`l",
        "‡§†‡•ç‡§π" => "B`g",

        // =====================================
        // ‡§° FAMILY JOINTS (half ‡§° = "M`")
        // =====================================
        "‡§°‡•ç‡§ï" => "M`d",
        "‡§°‡•ç‡§ñ" => "M`[k",
        "‡§°‡•ç‡§ó" => "M`x",
        "‡§°‡•ç‡§ò" => "M`?k",
        "‡§°‡•ç‡§ö" => "M`p",
        "‡§°‡•ç‡§õ" => "M`N",
        "‡§°‡•ç‡§ú" => "M`t",
        "‡§°‡•ç‡§ù" => "M`>",
        "‡§°‡•ç‡§°" => "M`M",
        "‡§°‡•ç‡§†" => "M`B",
        "‡§°‡•ç‡§°" => "M`M",
        "‡§°‡•ç‡§¢" => "M`<",
        "‡§°‡•ç‡§£" => "M`.k",
        "‡§°‡•ç‡§°" => "M`M",
        "‡§°‡•ç‡§§" => "M`r",
        "‡§°‡•ç‡§•" => "M`Fk",
        "‡§°‡•ç‡§¶" => "M`n",
        "‡§°‡•ç‡§ß" => "M`/k",
        "‡§°‡•ç‡§®" => "M`u",
        "‡§°‡•ç‡§™" => "M`i",
        "‡§°‡•ç‡§´" => "M`Q",
        "‡§°‡•ç‡§¨" => "M`c",
        "‡§°‡•ç‡§≠" => "M`Hk",
        "‡§°‡•ç‡§Æ" => "M`e",
        "‡§°‡•ç‡§Ø" => "M`;",
        "‡§°‡•ç‡§∞" => "M`j",
        "‡§°‡•ç‡§≤" => "M`y",
        "‡§°‡•ç‡§∂" => "M`'k",
        "‡§°‡•ç‡§∏" => "M`l",
        "‡§°‡•ç‡§π" => "M`g",

        // =====================================
        // ‡§¢ FAMILY JOINTS (half ‡§¢ = "<`")
        // =====================================
        "‡§¢‡•ç‡§ï" => "<`d",
        "‡§¢‡•ç‡§ñ" => "<`[k",
        "‡§¢‡•ç‡§ó" => "<`x",
        "‡§¢‡•ç‡§ò" => "<`?k",
        "‡§¢‡•ç‡§ö" => "<`p",
        "‡§¢‡•ç‡§õ" => "<`N",
        "‡§¢‡•ç‡§ú" => "<`t",
        "‡§¢‡•ç‡§ù" => "<`>",
        "‡§¢‡•ç‡§ü" => "<`V",
        "‡§¢‡•ç‡§†" => "<`B",
        "‡§¢‡•ç‡§°" => "<`M",
        "‡§¢‡•ç‡§¢" => "<`<",
        "‡§¢‡•ç‡§£" => "<`.k",
        "‡§¢‡•ç‡§§" => "<`r",
        "‡§¢‡•ç‡§•" => "<`Fk",
        "‡§¢‡•ç‡§¶" => "<`n",
        "‡§¢‡•ç‡§ß" => "<`/k",
        "‡§¢‡•ç‡§®" => "<`u",
        "‡§¢‡•ç‡§™" => "<`i",
        "‡§¢‡•ç‡§´" => "<`Q",
        "‡§¢‡•ç‡§¨" => "<`c",
        "‡§¢‡•ç‡§≠" => "<`Hk",
        "‡§¢‡•ç‡§Æ" => "<`e",
        "‡§¢‡•ç‡§Ø" => "<`;",
        "‡§¢‡•ç‡§∞" => "<`j",
        "‡§¢‡•ç‡§≤" => "<`y",
        "‡§¢‡•ç‡§∂" => "<`'k",
        "‡§¢‡•ç‡§∏" => "<`l",
        "‡§¢‡•ç‡§π" => "<`g",


        // =====================================
        // ‡§§ FAMILY JOINTS (half ‡§§ = "r`")
        // =====================================
        "‡§§‡•ç‡§ï" => "r`d",
        "‡§§‡•ç‡§ñ" => "r`[k",
        "‡§§‡•ç‡§ó" => "r`x",
        "‡§§‡•ç‡§ò" => "r`?k",
        "‡§§‡•ç‡§ö" => "r`p",
        "‡§§‡•ç‡§õ" => "r`N",
        "‡§§‡•ç‡§ú" => "r`t",
        "‡§§‡•ç‡§ù" => "r`>",
        "‡§ü‡•ç‡§ü" => "r`V",
        "‡§§‡•ç‡§†" => "r`B",
        "‡§§‡•ç‡§°" => "r`M",
        "‡§§‡•ç‡§¢" => "r`<",
        "‡§§‡•ç‡§£" => "r`.k",
        "‡§§‡•ç‡§§" => "r`r",
        "‡§§‡•ç‡§•" => "r`Fk",
        "‡§§‡•ç‡§¶" => "r`n",
        "‡§§‡•ç‡§ß" => "r`/k",
        "‡§§‡•ç‡§®" => "r`u",
        "‡§§‡•ç‡§™" => "r`i",
        "‡§§‡•ç‡§´" => "r`Q",
        "‡§§‡•ç‡§¨" => "r`c",
        "‡§§‡•ç‡§≠" => "r`Hk",
        "‡§§‡•ç‡§Æ" => "r`e",
        "‡§§‡•ç‡§Ø" => "r`;",
        "‡§§‡•ç‡§≤" => "r`y",
        "‡§§‡•ç‡§∂" => "r`'k",
        "‡§§‡•ç‡§∏" => "r`l",
        "‡§§‡•ç‡§π" => "r`g",

        // =====================================
        // ‡§• FAMILY JOINTS (half ‡§• = "Fk`")
        // =====================================
        "‡§•‡•ç‡§ï" => "Fk`d",
        "‡§•‡•ç‡§ñ" => "Fk`[k",
        "‡§•‡•ç‡§ó" => "Fk`x",
        "‡§•‡•ç‡§ò" => "Fk`?k",
        "‡§•‡•ç‡§ö" => "Fk`p",
        "‡§•‡•ç‡§õ" => "Fk`N",
        "‡§•‡•ç‡§ú" => "Fk`t",
        "‡§•‡•ç‡§ù" => "Fk`>",
        "‡§†‡•ç‡§ü" => "Fk`V",
        "‡§•‡•ç‡§†" => "Fk`B",
        "‡§•‡•ç‡§°" => "Fk`M",
        "‡§•‡•ç‡§¢" => "Fk`<",
        "‡§•‡•ç‡§£" => "Fk`.k",
        "‡§•‡•ç‡§§" => "Fk`r",
        "‡§•‡•ç‡§•" => "Fk`Fk",
        "‡§•‡•ç‡§¶" => "Fk`n",
        "‡§•‡•ç‡§ß" => "Fk`/k",
        "‡§•‡•ç‡§®" => "Fk`u",
        "‡§•‡•ç‡§™" => "Fk`i",
        "‡§•‡•ç‡§´" => "Fk`Q",
        "‡§•‡•ç‡§¨" => "Fk`c",
        "‡§•‡•ç‡§≠" => "Fk`Hk",
        "‡§•‡•ç‡§Æ" => "Fk`e",
        "‡§•‡•ç‡§Ø" => "Fk`;",
        "‡§•‡•ç‡§∞" => "Fk`j",
        "‡§•‡•ç‡§≤" => "Fk`y",
        "‡§•‡•ç‡§∂" => "Fk`'k",
        "‡§•‡•ç‡§∏" => "Fk`l",
        "‡§•‡•ç‡§π" => "Fk`g",

        // =====================================
        // ‡§¶ FAMILY JOINTS (half ‡§¶ = "n`")
        // =====================================
        "‡§¶‡•ç‡§ï" => "n`d",
        "‡§¶‡•ç‡§ñ" => "n`[k",
        "‡§¶‡•ç‡§ó" => "n`x",
        "‡§¶‡•ç‡§ò" => "n`?k",
        "‡§¶‡•ç‡§ö" => "n`p",
        "‡§¶‡•ç‡§õ" => "n`N",
        "‡§¶‡•ç‡§ú" => "n`t",
        "‡§¶‡•ç‡§ù" => "n`>",
        "‡§¶‡•ç‡§ü" => "n`V",
        "‡§¶‡•ç‡§†" => "n`B",
        "‡§°‡•ç‡§°" => "n`M",
        "‡§¶‡•ç‡§¢" => "n`<",
        "‡§¶‡•ç‡§£" => "n`.k",
        "‡§¶‡•ç‡§¶" => "n`n",
        "‡§¶‡•ç‡§§" => "n`r",
        "‡§¶‡•ç‡§•" => "n`Fk",
        "‡§¶‡•ç‡§¶" => "n`n",
        "‡§¶‡•ç‡§ß" => "n`/k",
        "‡§¶‡•ç‡§®" => "n`u",
        "‡§¶‡•ç‡§™" => "n`i",
        "‡§¶‡•ç‡§´" => "n`Q",
        "‡§¶‡•ç‡§¨" => "n`c",
        "‡§¶‡•ç‡§≠" => "n`Hk",
        "‡§¶‡•ç‡§Æ" => "n`e",
        "‡§¶‡•ç‡§Ø" => "n`;",
        "‡§¶‡•ç‡§∞" => "√¶",
        "‡§¶‡•ç‡§≤" => "n`y",
        "‡§¶‡•ç‡§∂" => "n`'k",
        "‡§¶‡•ç‡§∏" => "n`l",
        "‡§¶‡•ç‡§π" => "n`g",

        // =====================================
        // ‡§ß FAMILY JOINTS (half ‡§ß = "/k`")
        // =====================================
        "‡§ß‡•ç‡§ï" => "/k`d",
        "‡§ß‡•ç‡§ñ" => "/k`[k",
        "‡§ß‡•ç‡§ó" => "/k`x",
        "‡§ß‡•ç‡§ò" => "/k`?k",
        "‡§ß‡•ç‡§ö" => "/k`p",
        "‡§ß‡•ç‡§õ" => "/k`N",
        "‡§ß‡•ç‡§ú" => "/k`t",
        "‡§ß‡•ç‡§ù" => "/k`>",
        "‡§ß‡•ç‡§ü" => "/k`V",
        "‡§ß‡•ç‡§†" => "/k`B",
        "‡§ß‡•ç‡§°" => "/k`M",
        "‡§ß‡•ç‡§¢" => "/k`<",
        "‡§ß‡•ç‡§£" => "/k`.k",
        "‡§ß‡•ç‡§§" => "/k`r",
        "‡§ß‡•ç‡§•" => "/k`Fk",
        "‡§ß‡•ç‡§¶" => "/k`n",
        "‡§ß‡•ç‡§ß" => "/k`/k",
        "‡§ß‡•ç‡§®" => "/k`u",
        "‡§ß‡•ç‡§™" => "/k`i",
        "‡§ß‡•ç‡§´" => "/k`Q",
        "‡§ß‡•ç‡§¨" => "/k`c",
        "‡§ß‡•ç‡§≠" => "/k`Hk",
        "‡§ß‡•ç‡§Æ" => "/k`e",
        "‡§ß‡•ç‡§Ø" => "/k`;",
        "‡§ß‡•ç‡§∞" => "/k`j",
        "‡§ß‡•ç‡§≤" => "/k`y",
        "‡§ß‡•ç‡§∂" => "/k`'k",
        "‡§ß‡•ç‡§∏" => "/k`l",
        "‡§ß‡•ç‡§π" => "/k`g",


        // =====================================
        // ‡§™ FAMILY JOINTS (half ‡§™ = "i`")
        // =====================================
        "‡§™‡•ç‡§ï" => "i`d",
        "‡§™‡•ç‡§ñ" => "i`[k",
        "‡§™‡•ç‡§ó" => "i`x",
        "‡§™‡•ç‡§ò" => "i`?k",
        "‡§™‡•ç‡§ö" => "i`p",
        "‡§™‡•ç‡§õ" => "i`N",
        "‡§™‡•ç‡§ú" => "i`t",
        "‡§™‡•ç‡§ù" => "i`>",
        "‡§™‡•ç‡§ü" => "i`V",
        "‡§™‡•ç‡§†" => "i`B",
        "‡§™‡•ç‡§°" => "i`M",
        "‡§™‡•ç‡§¢" => "i`<",
        "‡§™‡•ç‡§£" => "i`.k",
        "‡§™‡•ç‡§§" => "i`r",
        "‡§™‡•ç‡§•" => "i`Fk",
        "‡§™‡•ç‡§¶" => "i`n",
        "‡§™‡•ç‡§ß" => "i`/k",
        "‡§™‡•ç‡§®" => "i`u",
        "‡§™‡•ç‡§™" => "i`i",
        "‡§™‡•ç‡§´" => "i`Q",
        "‡§™‡•ç‡§¨" => "i`c",
        "‡§™‡•ç‡§≠" => "i`Hk",
        "‡§™‡•ç‡§Æ" => "i`e",
        "‡§™‡•ç‡§Ø" => "i`;",
        "‡§™‡•ç‡§∞" => "i`j",
        "‡§™‡•ç‡§≤" => "i`y",
        "‡§™‡•ç‡§∂" => "i`'k",
        "‡§™‡•ç‡§∏" => "i`l",
        "‡§™‡•ç‡§π" => "i`g",

        // =====================================
        // ‡§´ FAMILY JOINTS (half ‡§´ = "Q`")
        // =====================================
        "‡§´‡•ç‡§ï" => "Q`d",
        "‡§´‡•ç‡§ñ" => "Q`[k",
        "‡§´‡•ç‡§ó" => "Q`x",
        "‡§´‡•ç‡§ò" => "Q`?k",
        "‡§´‡•ç‡§ö" => "Q`p",
        "‡§´‡•ç‡§õ" => "Q`N",
        "‡§´‡•ç‡§ú" => "Q`t",
        "‡§´‡•ç‡§ù" => "Q`>",
        "‡§´‡•ç‡§ü" => "Q`V",
        "‡§´‡•ç‡§†" => "Q`B",
        "‡§´‡•ç‡§°" => "Q`M",
        "‡§´‡•ç‡§¢" => "Q`<",
        "‡§´‡•ç‡§£" => "Q`.k",
        "‡§´‡•ç‡§§" => "Q`r",
        "‡§´‡•ç‡§•" => "Q`Fk",
        "‡§´‡•ç‡§¶" => "Q`n",
        "‡§´‡•ç‡§ß" => "Q`/k",
        "‡§´‡•ç‡§®" => "Q`u",
        "‡§´‡•ç‡§™" => "Q`i",
        "‡§´‡•ç‡§´" => "Q`Q",
        "‡§´‡•ç‡§¨" => "Q`c",
        "‡§´‡•ç‡§≠" => "Q`Hk",
        "‡§´‡•ç‡§Æ" => "Q`e",
        "‡§´‡•ç‡§Ø" => "Q`;",
        "‡§´‡•ç‡§∞" => "Q`j",
        "‡§´‡•ç‡§≤" => "Q`y",
        "‡§´‡•ç‡§∂" => "Q`'k",
        "‡§´‡•ç‡§∏" => "Q`l",
        "‡§´‡•ç‡§π" => "Q`g",

        // =====================================
        // ‡§¨ FAMILY JOINTS (half ‡§¨ = "c`")
        // =====================================
        "‡§¨‡•ç‡§ï" => "c`d",
        "‡§¨‡•ç‡§ñ" => "c`[k",
        "‡§¨‡•ç‡§ó" => "c`x",
        "‡§¨‡•ç‡§ò" => "c`?k",
        "‡§¨‡•ç‡§ö" => "c`p",
        "‡§¨‡•ç‡§õ" => "c`N",
        "‡§¨‡•ç‡§ú" => "c`t",
        "‡§¨‡•ç‡§ù" => "c`>",
        "‡§¨‡•ç‡§ü" => "c`V",
        "‡§¨‡•ç‡§†" => "c`B",
        "‡§¨‡•ç‡§°" => "c`M",
        "‡§¨‡•ç‡§¢" => "c`<",
        "‡§¨‡•ç‡§£" => "c`.k",
        "‡§¨‡•ç‡§§" => "c`r",
        "‡§¨‡•ç‡§•" => "c`Fk",
        "‡§¨‡•ç‡§¶" => "c`n",
        "‡§¨‡•ç‡§ß" => "c`/k",
        "‡§¨‡•ç‡§®" => "c`u",
        "‡§¨‡•ç‡§™" => "c`i",
        "‡§¨‡•ç‡§´" => "c`Q",
        "‡§¨‡•ç‡§¨" => "c`c",
        "‡§¨‡•ç‡§≠" => "c`Hk",
        "‡§¨‡•ç‡§Æ" => "c`e",
        "‡§¨‡•ç‡§Ø" => "c`;",
        "‡§¨‡•ç‡§∞" => "c`j",
        "‡§¨‡•ç‡§≤" => "c`y",
        "‡§¨‡•ç‡§∂" => "c`'k",
        "‡§¨‡•ç‡§∏" => "c`l",
        "‡§¨‡•ç‡§π" => "c`g",

        // =====================================
        // ‡§≠ FAMILY JOINTS (half ‡§≠ = "Hk`")
        // =====================================
        "‡§≠‡•ç‡§ï" => "Hk`d",
        "‡§≠‡•ç‡§ñ" => "Hk`[k",
        "‡§≠‡•ç‡§ó" => "Hk`x",
        "‡§≠‡•ç‡§ò" => "Hk`?k",
        "‡§≠‡•ç‡§ö" => "Hk`p",
        "‡§≠‡•ç‡§õ" => "Hk`N",
        "‡§≠‡•ç‡§ú" => "Hk`t",
        "‡§≠‡•ç‡§ù" => "Hk`>",
        "‡§≠‡•ç‡§ü" => "Hk`V",
        "‡§≠‡•ç‡§†" => "Hk`B",
        "‡§≠‡•ç‡§°" => "Hk`M",
        "‡§≠‡•ç‡§¢" => "Hk`<",
        "‡§≠‡•ç‡§£" => "Hk`.k",
        "‡§≠‡•ç‡§§" => "Hk`r",
        "‡§≠‡•ç‡§•" => "Hk`Fk",
        "‡§≠‡•ç‡§¶" => "Hk`n",
        "‡§≠‡•ç‡§ß" => "Hk`/k",
        "‡§≠‡•ç‡§®" => "Hk`u",
        "‡§≠‡•ç‡§™" => "Hk`i",
        "‡§≠‡•ç‡§´" => "Hk`Q",
        "‡§≠‡•ç‡§¨" => "Hk`c",
        "‡§≠‡•ç‡§≠" => "Hk`Hk",
        "‡§≠‡•ç‡§Æ" => "Hk`e",
        "‡§≠‡•ç‡§Ø" => "Hk`;",
        "‡§≠‡•ç‡§∞" => "Hk`j",
        "‡§≠‡•ç‡§≤" => "Hk`y",
        "‡§≠‡•ç‡§∂" => "Hk`'k",
        "‡§≠‡•ç‡§∏" => "Hk`l",
        "‡§≠‡•ç‡§π" => "Hk`g",


        // =====================================
        // ‡§Æ FAMILY JOINTS (half ‡§Æ = "e`")
        // =====================================
        "‡§Æ‡•ç‡§ï" => "e`d",
        "‡§Æ‡•ç‡§ñ" => "e`[k",
        "‡§Æ‡•ç‡§ó" => "e`x",
        "‡§Æ‡•ç‡§ò" => "e`?k",
        "‡§Æ‡•ç‡§ö" => "e`p",
        "‡§Æ‡•ç‡§õ" => "e`N",
        "‡§Æ‡•ç‡§ú" => "e`t",
        "‡§Æ‡•ç‡§ù" => "e`>",
        "‡§Æ‡•ç‡§ü" => "e`V",
        "‡§Æ‡•ç‡§†" => "e`B",
        "‡§Æ‡•ç‡§°" => "e`M",
        "‡§Æ‡•ç‡§¢" => "e`<",
        "‡§Æ‡•ç‡§£" => "e`.k",
        "‡§Æ‡•ç‡§§" => "e`r",
        "‡§Æ‡•ç‡§•" => "e`Fk",
        "‡§Æ‡•ç‡§¶" => "e`n",
        "‡§Æ‡•ç‡§ß" => "e`/k",
        "‡§Æ‡•ç‡§®" => "e`u",
        "‡§Æ‡•ç‡§™" => "e`i",
        "‡§Æ‡•ç‡§´" => "e`Q",
        "‡§Æ‡•ç‡§¨" => "e`c",
        "‡§Æ‡•ç‡§≠" => "e`Hk",
        "‡§Æ‡•ç‡§Æ" => "e`e",
        "‡§Æ‡•ç‡§Ø" => "e`;",
        "‡§Æ‡•ç‡§∞" => "e`j",
        "‡§Æ‡•ç‡§≤" => "e`y",
        "‡§Æ‡•ç‡§∂" => "e`'k",
        "‡§Æ‡•ç‡§∏" => "e`l",
        "‡§Æ‡•ç‡§π" => "e`g",

        // =====================================
        // ‡§Ø FAMILY JOINTS (half ‡§Ø = ";`")
        // =====================================
        "‡§Ø‡•ç‡§ï" => ";`d",
        "‡§Ø‡•ç‡§ñ" => ";`[k",
        "‡§Ø‡•ç‡§ó" => ";`x",
        "‡§Ø‡•ç‡§ò" => ";`?k",
        "‡§Ø‡•ç‡§ö" => ";`p",
        "‡§Ø‡•ç‡§õ" => ";`N",
        "‡§Ø‡•ç‡§ú" => ";`t",
        "‡§Ø‡•ç‡§ù" => ";`>",
        "‡§Ø‡•ç‡§ü" => ";`V",
        "‡§Ø‡•ç‡§†" => ";`B",
        "‡§Ø‡•ç‡§°" => ";`M",
        "‡§Ø‡•ç‡§¢" => ";`<",
        "‡§Ø‡•ç‡§£" => ";`.k",
        "‡§Ø‡•ç‡§§" => ";`r",
        "‡§Ø‡•ç‡§•" => ";`Fk",
        "‡§Ø‡•ç‡§¶" => ";`n",
        "‡§Ø‡•ç‡§ß" => ";`/k",
        "‡§Ø‡•ç‡§®" => ";`u",
        "‡§Ø‡•ç‡§™" => ";`i",
        "‡§Ø‡•ç‡§´" => ";`Q",
        "‡§Ø‡•ç‡§¨" => ";`c",
        "‡§Ø‡•ç‡§≠" => ";`Hk",
        "‡§Ø‡•ç‡§Æ" => ";`e",
        "‡§Ø‡•ç‡§Ø" => ";`;",
        "‡§Ø‡•ç‡§∞" => ";`j",
        "‡§Ø‡•ç‡§≤" => ";`y",
        "‡§Ø‡•ç‡§∂" => ";`'k",
        "‡§Ø‡•ç‡§∏" => ";`l",
        "‡§Ø‡•ç‡§π" => ";`g",

        // =====================================
        // ‡§∞ FAMILY JOINTS (half ‡§∞ = "j`")
        // =====================================
        "‡§∞‡•ç‡§ï" => "j`d",
        "‡§∞‡•ç‡§ñ" => "j`[k",
        "‡§∞‡•ç‡§ó" => "j`x",
        "‡§∞‡•ç‡§ò" => "j`?k",
        "‡§∞‡•ç‡§ö" => "j`p",
        "‡§∞‡•ç‡§õ" => "j`N",
        "‡§∞‡•ç‡§ú" => "j`t",
        "‡§∞‡•ç‡§ù" => "j`>",
        "‡§∞‡•ç‡§ü" => "j`V",
        "‡§∞‡•ç‡§†" => "j`B",
        "‡§∞‡•ç‡§°" => "j`M",
        "‡§∞‡•ç‡§¢" => "j`<",
        "‡§∞‡•ç‡§£" => "j`.k",
        "‡§∞‡•ç‡§§" => "j`r",
        "‡§∞‡•ç‡§•" => "j`Fk",
        "‡§∞‡•ç‡§¶" => "j`n",
        "‡§∞‡•ç‡§ß" => "j`/k",
        "‡§∞‡•ç‡§®" => "j`u",
        "‡§∞‡•ç‡§™" => "j`i",
        "‡§∞‡•ç‡§´" => "j`Q",
        "‡§∞‡•ç‡§¨" => "j`c",
        "‡§∞‡•ç‡§≠" => "j`Hk",
        "‡§∞‡•ç‡§Æ" => "j`e",
        "‡§∞‡•ç‡§Ø" => "j`;",
        "‡§∞‡•ç‡§∞" => "j`j",
        "‡§∞‡•ç‡§≤" => "j`y",
        "‡§∞‡•ç‡§∂" => "j`'k",
        "‡§∞‡•ç‡§∏" => "j`l",
        "‡§∞‡•ç‡§π" => "j`g",

        // =====================================
        // ‡§≤ FAMILY JOINTS (half ‡§≤ = "y`")
        // =====================================
        "‡§≤‡•ç‡§ï" => "y`d",
        "‡§≤‡•ç‡§ñ" => "y`[k",
        "‡§≤‡•ç‡§ó" => "y`x",
        "‡§≤‡•ç‡§ò" => "y`?k",
        "‡§≤‡•ç‡§ö" => "y`p",
        "‡§≤‡•ç‡§õ" => "y`N",
        "‡§≤‡•ç‡§ú" => "y`t",
        "‡§≤‡•ç‡§ù" => "y`>",
        "‡§≤‡•ç‡§ü" => "y`V",
        "‡§≤‡•ç‡§†" => "y`B",
        "‡§≤‡•ç‡§°" => "y`M",
        "‡§≤‡•ç‡§¢" => "y`<",
        "‡§≤‡•ç‡§£" => "y`.k",
        "‡§≤‡•ç‡§§" => "y`r",
        "‡§≤‡•ç‡§•" => "y`Fk",
        "‡§≤‡•ç‡§¶" => "y`n",
        "‡§≤‡•ç‡§ß" => "y`/k",
        "‡§≤‡•ç‡§®" => "y`u",
        "‡§≤‡•ç‡§™" => "y`i",
        "‡§≤‡•ç‡§´" => "y`Q",
        "‡§≤‡§¨" => "y`c",
        "‡§≤‡•ç‡§≠" => "y`Hk",
        "‡§≤‡•ç‡§Æ" => "y`e",
        "‡§≤‡•ç‡§Ø" => "y`;",
        "‡§≤‡•ç‡§≤" => "y`y",
        "‡§≤‡•ç‡§∞" => "y`j",
        "‡§≤‡•ç‡§∂" => "y`'k",
        "‡§≤‡•ç‡§∏" => "y`l",
        "‡§≤‡•ç‡§π" => "y`g",

        // =====================================
        // ‡§µ FAMILY JOINTS (half ‡§µ = "o`")
        // =====================================
        "‡§µ‡•ç‡§ï" => "o`d",
        "‡§µ‡•ç‡§ñ" => "o`[k",
        "‡§µ‡•ç‡§ó" => "o`x",
        "‡§µ‡•ç‡§ò" => "o`?k",
        "‡§µ‡•ç‡§ö" => "o`p",
        "‡§µ‡•ç‡§õ" => "o`N",
        "‡§µ‡•ç‡§ú" => "o`t",
        "‡§µ‡•ç‡§ù" => "o`>",
        "‡§µ‡•ç‡§ü" => "o`V",
        "‡§µ‡•ç‡§†" => "o`B",
        "‡§µ‡•ç‡§°" => "o`M",
        "‡§µ‡•ç‡§¢" => "o`<",
        "‡§µ‡•ç‡§£" => "o`.k",
        "‡§µ‡•ç‡§§" => "o`r",
        "‡§µ‡•ç‡§•" => "o`Fk",
        "‡§µ‡•ç‡§¶" => "o`n",
        "‡§µ‡•ç‡§ß" => "o`/k",
        "‡§µ‡•ç‡§®" => "o`u",
        "‡§µ‡•ç‡§™" => "o`i",
        "‡§µ‡•ç‡§´" => "o`Q",
        "‡§µ‡•ç‡§¨" => "o`c",
        "‡§µ‡•ç‡§≠" => "o`Hk",
        "‡§µ‡•ç‡§Æ" => "o`e",
        "‡§µ‡•ç‡§Ø" => "o`;",
        "‡§µ‡•ç‡§∞" => "o`j",
        "‡§µ‡•ç‡§≤" => "o`y",
        "‡§µ‡•ç‡§∂" => "o`'k",
        "‡§µ‡•ç‡§∏" => "o`l",
        "‡§µ‡•ç‡§π" => "o`g",


        // =====================================
        // ‡§∂ FAMILY JOINTS (half ‡§∂ = "'k`")
        // =====================================
        "‡§∂‡•ç‡§ï" => "'k`d",
        "‡§∂‡•ç‡§ñ" => "'k`[k",
        "‡§∂‡•ç‡§ó" => "'k`x",
        "‡§∂‡•ç‡§ò" => "'k`?k",
        "‡§∂‡•ç‡§ö" => "'k`p",
        "‡§∂‡•ç‡§õ" => "'k`N",
        "‡§∂‡•ç‡§ú" => "'k`t",
        "‡§∂‡•ç‡§ù" => "'k`>",
        "‡§∂‡•ç‡§ü" => "'k`V",
        "‡§∂‡•ç‡§†" => "'k`B",
        "‡§∂‡•ç‡§°" => "'k`M",
        "‡§∂‡•ç‡§¢" => "'k`<",
        "‡§∂‡•ç‡§£" => "'k`.k",
        "‡§∂‡•ç‡§§" => "'k`r",
        "‡§∂‡•ç‡§•" => "'k`Fk",
        "‡§∂‡•ç‡§¶" => "'k`n",
        "‡§∂‡•ç‡§ß" => "'k`/k",
        "‡§∂‡•ç‡§®" => "'k`u",
        "‡§∂‡•ç‡§™" => "'k`i",
        "‡§∂‡•ç‡§´" => "'k`Q",
        "‡§∂‡•ç‡§¨" => "'k`c",
        "‡§∂‡•ç‡§≠" => "'k`Hk",
        "‡§∂‡•ç‡§Æ" => "'k`e",
        "‡§∂‡•ç‡§Ø" => "'k`;",
        "‡§∂‡•ç‡§∞" => "'k`j",
        "‡§∂‡•ç‡§≤" => "'k`y",
        "‡§∂‡•ç‡§∂" => "'k`'k",
        "‡§∂‡•ç‡§∏" => "'k`l",
        "‡§∂‡•ç‡§π" => "'k`g",

        // =====================================
        // ‡§∑ FAMILY JOINTS (half ‡§∑ = "\"k`")
        // =====================================
        "‡§∑‡•ç‡§ï" => "\"k`d",
        "‡§∑‡•ç‡§ñ" => "\"k`[k",
        "‡§∑‡•ç‡§ó" => "\"k`x",
        "‡§∑‡•ç‡§ò" => "\"k`?k",
        "‡§∑‡•ç‡§ö" => "\"k`p",
        "‡§∑‡•ç‡§õ" => "\"k`N",
        "‡§∑‡•ç‡§ú" => "\"k`t",
        "‡§∑‡•ç‡§ù" => "\"k`>",
        "‡§∑‡•ç‡§ü" => "\"k`V",
        "‡§∑‡•ç‡§†" => "\"k`B",
        "‡§∑‡•ç‡§°" => "\"k`M",
        "‡§∑‡•ç‡§¢" => "\"k`<",
        "‡§∑‡•ç‡§£" => "\"k`.k",
        "‡§∑‡•ç‡§§" => "\"k`r",
        "‡§∑‡•ç‡§•" => "\"k`Fk",
        "‡§∑‡•ç‡§¶" => "\"k`n",
        "‡§∑‡•ç‡§ß" => "\"k`/k",
        "‡§∑‡•ç‡§®" => "\"k`u",
        "‡§∑‡•ç‡§™" => "\"k`i",
        "‡§∑‡•ç‡§´" => "\"k`Q",
        "‡§∑‡•ç‡§¨" => "\"k`c",
        "‡§∑‡•ç‡§≠" => "\"k`Hk",
        "‡§∑‡•ç‡§Æ" => "\"k`e",
        "‡§∑‡•ç‡§Ø" => "\"k`;",
        "‡§∑‡•ç‡§∞" => "\"k`j",
        "‡§∑‡•ç‡§≤" => "\"k`y",
        "‡§∑‡•ç‡§∂" => "\"k`'k",
        "‡§∑‡•ç‡§∏" => "\"k`l",
        "‡§∑‡•ç‡§π" => "\"k`g",

        // =====================================
        // ‡§∏ FAMILY JOINTS (half ‡§∏ = "l`")
        // =====================================
        "‡§∏‡•ç‡§ï" => "l`d",
        "‡§∏‡•ç‡§ñ" => "l`[k",
        "‡§∏‡•ç‡§ó" => "l`x",
        "‡§∏‡•ç‡§ò" => "l`?k",
        "‡§∏‡•ç‡§ö" => "l`p",
        "‡§∏‡•ç‡§õ" => "l`N",
        "‡§∏‡•ç‡§ú" => "l`t",
        "‡§∏‡•ç‡§ù" => "l`>",
        "‡§∏‡•ç‡§ü" => "l`V",
        "‡§∏‡•ç‡§†" => "l`B",
        "‡§∏‡•ç‡§°" => "l`M",
        "‡§∏‡•ç‡§¢" => "l`<",
        "‡§∏‡•ç‡§£" => "l`.k",
        "‡§∏‡•ç‡§§" => "l`r",
        "‡§∏‡•ç‡§•" => "l`Fk",
        "‡§∏‡•ç‡§¶" => "l`n",
        "‡§∏‡•ç‡§ß" => "l`/k",
        "‡§∏‡•ç‡§®" => "l`u",
        "‡§∏‡•ç‡§™" => "l`i",
        "‡§∏‡•ç‡§´" => "l`Q",
        "‡§∏‡•ç‡§¨" => "l`c",
        "‡§∏‡•ç‡§≠" => "l`Hk",
        "‡§∏‡•ç‡§Æ" => "l`e",
        "‡§∏‡•ç‡§Ø" => "l`;",
        "‡§∏‡•ç‡§∞" => "l`j",
        "‡§∏‡•ç‡§≤" => "l`y",
        "‡§∏‡•ç‡§∂" => "l`'k",
        "‡§∏‡•ç‡§∏" => "l`l",
        "‡§∏‡•ç‡§π" => "l`g",

        // =====================================
        // ‡§π FAMILY JOINTS (half ‡§π = "g`")
        // =====================================
        "‡§π‡•ç‡§ï" => "g`d",
        "‡§π‡•ç‡§ñ" => "g`[k",
        "‡§π‡•ç‡§ó" => "g`x",
        "‡§π‡•ç‡§ò" => "g`?k",
        "‡§π‡•ç‡§ö" => "g`p",
        "‡§π‡•ç‡§õ" => "g`N",
        "‡§π‡•ç‡§ú" => "g`t",
        "‡§π‡•ç‡§ù" => "g`>",
        "‡§π‡•ç‡§ü" => "g`V",
        "‡§π‡•ç‡§†" => "g`B",
        "‡§π‡•ç‡§°" => "g`M",
        "‡§π‡•ç‡§¢" => "g`<",
        "‡§π‡•ç‡§£" => "g`.k",
        "‡§π‡•ç‡§§" => "g`r",
        "‡§π‡•ç‡§•" => "g`Fk",
        "‡§π‡•ç‡§¶" => "g`n",
        "‡§π‡•ç‡§ß" => "g`/k",
        "‡§π‡•ç‡§®" => "g`u",
        "‡§π‡•ç‡§™" => "g`i",
        "‡§π‡•ç‡§´" => "g`Q",
        "‡§π‡•ç‡§¨" => "g`c",
        "‡§π‡•ç‡§≠" => "g`Hk",
        "‡§π‡•ç‡§Æ" => "g`e",
        "‡§π‡•ç‡§Ø" => "g`;",
        "‡§π‡•ç‡§∞" => "g`j",
        "‡§π‡•ç‡§≤" => "g`y",
        "‡§π‡•ç‡§∂" => "g`'k",
        "‡§π‡•ç‡§∏" => "g`l",
        "‡§π‡•ç‡§π" => "g`g",

        "‡§™‡•ç‡§Ø‡•Ç" => "i`;w",

        // -------------------------------------
        // ‡§® : 14 MATRAS
        // -------------------------------------
        "‡§®"  => "u",
        "‡§®‡§æ" => "uk",
        "‡§®‡§ø" => "fu",
        "‡§®‡•Ä" => "hu",
        "‡§®‡•Å" => "uq",
        "‡§®‡•Ç" => "uw",
        "‡§®‡•á" => "us",
        "‡§®‡•à" => "uS",
        "‡§®‡•ã" => "uks",
        "‡§®‡•å" => "ukS",
        "‡§®‡§Ç" => "ua",
        "‡§®‡§Å" => "u~",
        "‡§®‡§É" => "u:",

        // -------------------------------------
        // ‡§®‡•ç + CONSONANT JOINTS (half ‡§® = "U")
        // (optional, but recommended)
        // -------------------------------------
        "‡§®‡•ç‡§ï" => "Ud",
        "‡§®‡•ç‡§ñ" => "U[k",
        "‡§®‡•ç‡§ó" => "Ux",
        "‡§®‡•ç‡§ò" => "U?k",
        "‡§®‡•ç‡§ö" => "Up",
        "‡§®‡•ç‡§õ" => "UN",
        "‡§®‡•ç‡§ú" => "Ut",
        "‡§®‡•ç‡§ù" => "U>",
        "‡§®‡•ç‡§ü" => "UV",
        "‡§®‡•ç‡§†" => "UB",
        "‡§®‡•ç‡§°" => "UM",
        "‡§®‡•ç‡§¢" => "U<",
        "‡§®‡•ç‡§£" => "U.k",
        "‡§®‡•ç‡§§" => "Ur",
        "‡§®‡•ç‡§•" => "UFk",
        "‡§®‡•ç‡§¶" => "Un",
        "‡§®‡•ç‡§ß" => "U/k",
        "‡§®‡•ç‡§®" => "Uu",
        "‡§®‡•ç‡§™" => "Ui",
        "‡§®‡•ç‡§´" => "UQ",
        "‡§®‡•ç‡§¨" => "Uc",
        "‡§®‡•ç‡§≠" => "UHk",
        "‡§®‡•ç‡§Æ" => "Ue",
        "‡§®‡•ç‡§Ø" => "U;",
        "‡§®‡•ç‡§∞" => "Uj",
        "‡§®‡•ç‡§≤" => "Uy",
        "‡§®‡•ç‡§∂" => "U'k",
        "‡§®‡•ç‡§∏" => "Ul",
        "‡§®‡•ç‡§π" => "Ug",


        // Remove any leftover halant explicitly
        "‡•ç" => "",
    );

    uksort($map, function ($a, $b) {
        return mb_strlen($b, 'UTF-8') <=> mb_strlen($a, 'UTF-8');
    });

    foreach ($map as $uni => $krut) {
        $text = str_replace($uni, $krut, $text);
    }

    // 4) OPTIONAL: leftover matras fallback (only if some matras remain after $map)
    // Use this only as fallback for cases your $map doesn't cover (like rare combos).
    $matraMap = [
        "‡§æ" => "k",
        "‡•Ä" => "h",
        "‡•Å" => "q",
        "‡•Ç" => "w",
        "‡•á" => "s",
        "‡•à" => "S",
        "‡•ã" => "ks",
        "‡•å" => "kS",
        "‡§Ç" => "a",
        "‡§Å" => "~",
        "‡§É" => ":",
        "‡•É" => "`",
    ];

    foreach ($matraMap as $uni => $krut) {
        $text = str_replace($uni, $krut, $text);
    }

    // 5) Remove leftover halant just in case
    $text = str_replace("‡•ç", "", $text);

    return $text;
}

function documentRequests()
{
    global $conn;

    $idsList = $_GET['param'] ?? '';

    if (empty($idsList)) {
        http_response_code(400);
        echo 'No valid IDs provided.';
        exit;
    }

    $sql = "SELECT * FROM document_requests WHERE id IN ($idsList) ORDER BY created_at, print_flag DESC";

    $result = mysqli_query($conn, $sql);

    if (!$result || mysqli_num_rows($result) == 0) {
        http_response_code(404);
        echo 'No results found for the provided IDs.';
        exit;
    }

    $renderedHtmls = [];

    while ($row = mysqli_fetch_assoc($result)) {
        $enroll = $row['enrollment_no'];
        $reqType = $row['request_type'];

        // Normalize
        $reqType = trim($reqType);
        $reqType = preg_replace('/\s+/', ' ', $reqType);

        if ($reqType === "Transcript") {
            $renderedHtmls[] = renderTemplate('transcripts.php', [
                'enrollment_no' => $enroll,
            ]);
        } elseif ($reqType === "MC CUM TC") {
            $renderedHtmls[] = renderTemplate('tcmc.php', ['data' => $row]);
        } elseif ($reqType === "MC TC CC") {
            $renderedHtmls[] = renderTemplate('mctccc.php', ['data' => $row]);
        } elseif ($reqType === "MOI") {
            $renderedHtmls[] = renderTemplate('moi.php', ['data' => $row]);
        } elseif ($reqType === "NOC LETTER LLB") {
            $renderedHtmls[] = renderTemplate('noc-letter-llb.php', ['data' => $row]);
        } elseif ($reqType === "Attendance LLB 75") {
            $renderedHtmls[] = renderTemplate('attendance-llb-75.php', ['data' => $row]);
        } elseif ($reqType === "Attendance LLB") {
            $renderedHtmls[] = renderTemplate('attendance-llb.php', ['data' => $row]);
        } elseif ($reqType === "Bonafide") {
            $renderedHtmls[] = renderTemplate('bonafide.php', ['data' => $row]);
        } elseif ($reqType === "CC") {
            $renderedHtmls[] = renderTemplate('cc.php', ['data' => $row]);
        } elseif ($reqType === "LOR 2") {
            $renderedHtmls[] = renderTemplate('lor-2.php', ['data' => $row]);
        } elseif ($reqType === "LOR 3 Hindi") {
            $renderedHtmls[] = renderTemplate('lor-3-hindi.php', ['data' => $row]);
        } elseif ($reqType === "LOR") {
            $renderedHtmls[] = renderTemplate('lor.php', ['data' => $row]);
        } elseif ($reqType === "PROVISIONAL") {
            $renderedHtmls[] = renderTemplate('provisional-certificate.php', ['data' => $row]);
        } elseif ($reqType === "DEGREE SPZL") {
            $renderedHtmls[] = renderTemplate('degree-spzl.php', ['data' => $row]);
        } elseif ($reqType === "DEGREE PHD") {
            $renderedHtmls[] = renderTemplate('degree-phd.php', ['data' => $row]);
        } elseif ($reqType === "DEGREE WITHOUT SPZL") {
            $renderedHtmls[] = renderTemplate('degree-without-spzl.php', ['data' => $row]);
        } elseif ($reqType === "DIPLOMA WITHOUT SPZL") {
            $renderedHtmls[] = renderTemplate('degree-diploma-without-spzl.php', ['data' => $row]);
        } else {
            $renderedHtmls[] = "<p>Unknown document type: $reqType</p>";
        }
    }

    return $renderedHtmls;
}

function renderTemplate($template, $data = [])
{
    // Extract data as local variables for the template
    if (is_array($data)) {
        extract($data, EXTR_SKIP);
    }

    // Start output buffering
    ob_start();

    $templateFile = __DIR__ . '/templates/' . $template;
    if (!file_exists($templateFile)) {
        http_response_code(404);
        echo "Template file not found: {$templateFile}";
        exit;
    }

    include $templateFile;

    // Return the rendered content
    return ob_get_clean();
}

function numberToRoman($num)
{
    $map = [
        'M'  => 1000,
        'CM' => 900,
        'D'  => 500,
        'CD' => 400,
        'C'  => 100,
        'XC' => 90,
        'L'  => 50,
        'XL' => 40,
        'X'  => 10,
        'IX' => 9,
        'V'  => 5,
        'IV' => 4,
        'I'  => 1,
    ];

    $result = '';

    foreach ($map as $roman => $value) {
        while ($num >= $value) {
            $result .= $roman;
            $num -= $value;
        }
    }

    return $result;
}

$renderedHtmls = documentRequests();
?>

<!DOCTYPE html>
<html lang="en">

<head>
    <?php include 'assets/partials/header.html' ?>
    <style>
        /* Screen + PDF basic layout for transcript page */
        .transcript-container {
            width: 21cm;
            height: 29.7cm;
            padding: 0cm 2cm 2.1cm 2cm;
            border: 3px solid #06355f;
            font-family: calibri, sans-serif !important;
            background-position: center;
            background-size: cover;
            position: relative;
            box-sizing: border-box;
            margin: 0 auto 1cm auto;
        }

        .doc-container {
            width: 21cm;
            height: 29.7cm;
            padding: 0.8cm 2cm 2.1cm 2cm;
            border: 3px solid #06355f;
            font-family: "Times New Roman", Times, serif !important;
            background-position: center;
            background-size: cover;
            position: relative;
            box-sizing: border-box;
            margin: 0 auto 1cm auto;
        }

        .marksheet {
            margin-top: 3.4cm;
        }

        .coe-sign {
            position: absolute;
            right: 2.5cm;
            bottom: 2cm;
            font-weight: bold;
            font-size: 9pt;
            width: 17cm !important;
            text-align: end;
        }

        #scrollableView {
            width: 21cm !important;
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <div class="container-scroller">
        <?php include 'assets/partials/_navbar.php' ?>
        <div class="container-fluid page-body-wrapper">
            <?php include 'assets/partials/_sidebar.php' ?>
            <div class="main-panel position-relative">
                <div class="content-wrapper">
                    <div class="card overflow-hidden p-4" style="height: 80vh">
                        <div class="row justify-content-between mb-4 mx-0">
                            <h4 class="card-title">Generated Documents</h4>
                            <button type="button" class="btn btn-primary btn-icon-text print">
                                Print
                                <i class="ti-printer btn-icon-append"></i>
                            </button>
                        </div>
                        <div class="card-body p-0" id="scrollableView">
                            <?php foreach ($renderedHtmls as $html):
                                echo $html;
                            endforeach; ?>
                        </div>
                    </div>
                </div>

                <footer class="footer">
                    <div class="d-sm-flex justify-content-center justify-content-sm-between">
                        <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright ¬© 2021.
                            All rights reserved.</span>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <!-- PerfectScrollbar JS -->
    <?php include 'assets/partials/plugins_js.html'; ?>
    <script src="https://cdn.jsdelivr.net/npm/perfect-scrollbar/dist/perfect-scrollbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        var scrollbar1 = document.getElementById("scrollableView");
        if (scrollbar1) {
            new PerfectScrollbar(scrollbar1, {
                wheelPropagation: false
            });
        }


        document.fonts.check("16px KrutiDev")

        $(".print").on("click", function() {
            generatePDF();
        });

        function generatePDF() {
            var scrollableViewContent = $("#scrollableView").html();

            // Get selected IDs from URL (same logic you used before)
            var page = window.location.href;
            var pageSegments = page.split('/');
            var idsArray = (pageSegments[3] || '').split("=");
            var ids = idsArray[1] || '';

            $.ajax({
                type: "POST",
                url: "generate_pdf_transcript.php",
                data: {
                    content: scrollableViewContent
                },
                dataType: "json",
                success: function(response) {
                    if (response.success) {
                        //updatePrinted(ids);
                        alert("PDF generated successfully. Click OK to view.");
                        window.open(response.pdf_path, '_blank');
                    } else {
                        console.error(response.message);
                        alert('Failed to generate PDF: ' + response.message);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                    alert('An error occurred while generating the PDF');
                }
            });
        }

        function updatePrinted(ids) {
            $.ajax({
                type: "POST",
                url: "update_printed_doc.php",
                data: {
                    ids: ids
                },
                dataType: "json",
                success: function(response) {
                    if (!response.success) {
                        console.error(response.message);
                        alert('Failed to update print flags: ' + response.message);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                    alert('An error occurred while updating the PDF printed status');
                }
            });
        }
    </script>
</body>

</html>

<?php
$conn->close();
?>