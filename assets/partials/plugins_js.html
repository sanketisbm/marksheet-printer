<script src="assets/vendors/js/vendor.bundle.base.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> -->

<script src="assets/vendors/chart.js/Chart.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script> -->

<!-- Include Moment.js -->
<script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<!-- Include Date Range Picker JS -->
<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<!-- DataTables  & Plugins -->
<script src="assets/datatable_assets/datatables/jquery.dataTables.min.js"></script>
<script src="assets/datatable_assets/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="assets/datatable_assets/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="assets/datatable_assets/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="assets/datatable_assets/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="assets/datatable_assets/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="assets/datatable_assets/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="assets/datatable_assets/datatables-buttons/js/buttons.print.min.js"></script>
<script src="assets/datatable_assets/datatables-buttons/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>

<!-- End plugin js for this page -->
<script src="assets/vendors/select2/select2.min.js"></script>

<!-- inject:js -->
<script src="assets/js/off-canvas.js"></script>
<script src="assets/js/hoverable-collapse.js"></script>
<script src="assets/js/template.js"></script>
<script src="assets/js/settings.js"></script>
<script src="assets/js/todolist.js"></script>
<script src="assets/js/select2.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="assets/js/dashboard.js"></script>
<script src="assets/js/Chart.roundedBarCharts.js"></script>
<!-- End custom js for this page-->
<script src="assets/summernote/summernote-bs4.min.js"></script>
<script src="b5-assets/vendor/js/bootstrap.js"></script>

<script src="b5-assets/js/extended-ui-perfect-scrollbar.js"></script>
<script src="b5-assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
<script src="assets/partials/new-lead.js"></script>

<script>
  $(document).ready(function () {
    let filterCount = 1;

    $("#addFilter").click(function () {
      if (filterCount < 20) {
        var filterClone = $("#filterBox .filterSet:first").clone();

        // Update the name attributes for the cloned select and input elements
        filterClone
          .find('select[name="filterTitle"]')
          .attr("name", "filterTitle" + filterCount)
          .removeClass("select2-hidden-accessible")
          .next(".select2-container")
          .remove();

        filterClone
          .find('select[name="filterSearch"]')
          .attr("name", "filterSearch" + filterCount)
          .removeClass("select2-hidden-accessible")
          .next(".select2-container")
          .remove();

        filterClone
          .find('input[name="filterValue"]')
          .attr("name", "filterValue" + filterCount);

        // Append the cloned filter set to the filterBox
        $("#filterBox").append(filterClone);

        // Initialize Select2 after appending to the DOM
        filterClone
          .find('select[name="filterTitle' + filterCount + '"]')
          .select2({
            dropdownParent: $("#filtersOffcanvasEnd .offcanvas-body"),
          });

        filterClone
          .find('select[name="filterSearch' + filterCount + '"]')
          .select2({
            dropdownParent: $("#filtersOffcanvasEnd .offcanvas-body"),
          });

        // Increment the filter count
        filterCount++;
      } else {
        alert("You cannot add more than 20 filters.");
      }
    });
  });
</script>
